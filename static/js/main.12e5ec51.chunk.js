(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(6),s=c.n(a),r=c(2),i=c(3),o=function(e){return e.items},u=function(e){return e.searchedData},j=c(1),b=function(e){var t=Object(r.d)(),c=Object(r.e)(o,r.c),a=Object(n.useState)(""),s=Object(i.a)(a,2),u=s[0],b=s[1],O=function(){if(0!==u.length){var e=c.filter((function(e){return e.name.match(new RegExp(u,"gi"))}));t({type:"SEARCHED_ITEMS",searchedItems:e})}};return Object(n.useEffect)((function(){e&&(b(""),t({type:"REMOVE_SEARCHED_ITEMS"}))}),[e,t]),Object(j.jsxs)("div",{className:"search_field",children:[Object(j.jsx)("input",{name:"query",value:u,placeholder:"Search movies!",onChange:function(e){return c=e.target.value,b(c),void(0===c.length&&t({type:"REMOVE_SEARCHED_ITEMS"}));var c},onKeyPress:function(e){var t;13!==(t=e).charCode&&13!==t.which&&"Enter"!==t.code||O()}}),Object(j.jsx)("button",{type:"button",onClick:O,children:Object(j.jsx)("img",{className:"search-icon",src:"/myapp/assets/search.png",alt:"Search"})})]})},O=Object(n.memo)(b),l=function(){var e=Object(r.e)(u,r.c),t=Object(n.useState)(!1),c=Object(i.a)(t,2),a=c[0],s=c[1],o=Object(n.useState)(!1),b=Object(i.a)(o,2),l=b[0],f=b[1];Object(n.useEffect)((function(){e.length>0?s(!0):s(!1)}),[e]);return Object(j.jsxs)("div",{className:"nav-bar",children:[Object(j.jsx)("div",{className:"back-button-container",children:Object(j.jsx)("img",{src:"/myapp/assets/Back.png",alt:"back",className:"back-button ".concat(!a&&"blur"),onClick:function(){if(!a)return!1;f(!0)}})}),Object(j.jsx)(O,{handleBack:l})]})},f=Object(n.memo)(l),d=c(13),p=c(12),h=(c(23),Object(p.trackWindowScroll)((function(e){return Object(j.jsxs)("div",{className:"item",children:[Object(j.jsx)(p.LazyLoadImage,{alt:e.name,height:"196px",effect:"blur",scrollPosition:e.scrollPosition,src:"posterthatismissing.jpg"===e["poster-image"]?"".concat("/myapp","/assets/placeholder_for_missing_posters.png"):"".concat("/myapp","/assets/").concat(e["poster-image"])}),Object(j.jsx)("p",{className:"title",children:e.name})]})}))),m=function(){var e=Object(n.useState)(1),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(r.e)(o,r.c),b=Object(r.e)(u),O=Object(n.useRef)({});O.current=c;var l=Object(r.d)(),f=Object(n.useState)(!1),p=Object(i.a)(f,2),m=p[0],E=p[1],v=Object(n.useCallback)((function(e){e.preventDefault();var t=e.target;t.body.scrollHeight-window.pageYOffset===t.documentElement.clientHeight&&O.current<3&&(a(O.current+1),g())}),[]),g=function(){fetch("API/CONTENTLISTINGPAGE-PAGE".concat(O.current,".json"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){l(function(e){return{type:"ADD_ITEMS",items:e}}(e.page["content-items"].content))}))};return Object(n.useEffect)((function(){g()}),[]),Object(n.useEffect)((function(){E(!0)}),[b]),Object(n.useEffect)((function(){return window.addEventListener("scroll",v),function(){window.removeEventListener("scroll",v)}}),[v]),Object(j.jsxs)("div",{className:"item-list",children:[m&&b.map((function(e,t){return Object(j.jsx)(h,Object(d.a)({},e),t)})),s.map((function(e,t){return Object(j.jsx)(h,Object(d.a)({},e),t)}))]})},E=Object(n.memo)(m),v=Object(r.b)()((function(e){e.dispatch;return Object(j.jsxs)("div",{children:[Object(j.jsx)(f,{}),Object(j.jsx)(E,{})]})})),g=c(5),S=c(4),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEMS":return[].concat(Object(S.a)(e),Object(S.a)(t.items));default:return e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCHED_ITEMS":return Object(S.a)(t.searchedItems);case"REMOVE_SEARCHED_ITEMS":return Object(S.a)(e.searchedItems=[]);default:return e}},y=Object(g.b)({items:x,searchedData:_}),w=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||g.c;var I=Object(g.d)(y,w(Object(g.a)((function(e){var t=e.dispatch,c=e.getState;return function(e){return function(n){return"function"===typeof n?n(t,c):e(n)}}}))));c(24);s.a.render(Object(j.jsx)(r.a,{store:I,children:Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsx)(v,{})})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.12e5ec51.chunk.js.map